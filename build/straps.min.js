/*! straps 30-09-2014 */
var STRAPS_LIB_SELF="straps.js",STRAPS_LIB_DEBUG=!0,STRAPS_ATTRIBUTES=["s-","straps-"],STRAPS_TAGS={div:"div",form:"form",css:"link",link:"link",script:"script"},STRAPS_CLASS_OPERATION={add:0,remove:1,replace:2,toggle:3},Straps={modules:{},register:function(a,b){var c=this;return this.modules[a]?!1:(b.require&&b.require.forEach(function(a){return a.condition&&a.condition()?!1:void c.__attachscript(a.src)}),void(this.modules[a]=b))},cycleAttributes:function(a,b,c){var d=this;c=c?c:{},b.cycle(function(b,e){var f=d.attribute(a,b,!1,c.nostrap);if(f)switch(!0){case"function"==typeof e:e(f.value,f);break;case"object"==typeof e&&"function"==typeof e[1]:f.value.toLowerCase()==e[0].toLowerCase()&&e[1](f.value,f)}})},attribute:function(a,b,c,d){return d||STRAPS_ATTRIBUTES.forEach(function(c){a.attributes[c+b]&&(b=c+b)}),a.attributes[b]?a.attributes[b]:c?c:!1},find:function(a,b,c){"function"==typeof b&&(c=b,b=!1),b||(b=document);var d=b.querySelectorAll(a);switch(!0){case"function"==typeof c:d.cycle(function(a,b){b instanceof HTMLElement&&c(b)});break;case"number"==typeof c:d=d[c]&&d[c]instanceof HTMLElement?d[c]:!1;break;default:d=d.toElementList()}return d},classnames:function(a,b,c){try{var d=a.className.split(" ");if("string"==typeof b&&(b=b.split(",")),b instanceof Array){switch(!0){case c=STRAPS_CLASS_OPERATION.replace:d=b;break;default:b.forEach(function(a){switch(!0){case c==STRAPS_CLASS_OPERATION.remove:var b=d.indexOf(a);-1!=b&&d.splice(b,1);break;default:-1==d.indexOf(a)&&d.push(a)}})}a.className=d.join(" ")}}catch(e){console.log(e)}},__load:function(){var a=this;this.scriptTag=document.querySelector("script[src$='straps.js']"),this.scriptTag&&(this.scriptPath=this.scriptTag.src.replace(STRAPS_LIB_SELF,""),this.cycleAttributes(this.scriptTag,{autodetect:["true",function(){a.__autodetect()}]},{nostrap:!0}))},__autodetect:function(){var a=this;({form:function(b){a.__attach("form",b)},"input, textarea":function(){}}).cycle(function(a,b){var c=document.querySelectorAll(a);c&&Array.prototype.slice.call(c).forEach(function(a){b(a)})})},__attach:function(a,b){var c=this,d=this.__requiremodule(a,function(){c.__attach(a,b)});if(d)try{var e=d.invoke(this);e.attach(b)}catch(f){alert(f)}},__requiremodule:function(a,b){var c=this.modules[a]?this.modules[a]:!1;return c||arguments[2]?c:(this.__attachscript(this.scriptPath+"modules/straps."+a+".js",function(){"function"==typeof b&&b()}),!1)},__attachscript:function(a,b,c){var d=document.querySelector("head"),e=!1;switch(c){case STRAPS_TAGS.css:e=document.createElement("link"),e.href=a,e.rel="stylesheet";break;default:e=document.createElement("script"),e.type="text/javascript",e.src=a}"function"==typeof b&&(e.onload=function(){b()}),d.appendChild(e)},__prototypes:function(){Object.prototype.cycle=function(a){var b=this;Object.keys(this).forEach(function(c){if("function"==typeof a)try{a(c,b[c])}catch(d){this.__report(d)}})},Object.prototype.toElementList=function(){var a=[];return this.cycle(function(b,c){c instanceof HTMLElement&&a.push(c)}),a},Array.prototype.cycle=function(a){this.forEach(function(b,c){"function"==typeof a&&a(c,b)})}},__report:function(a){STRAPS_LIB_DEBUG&&console.log(a)}};!function(){Straps.__prototypes(),window.addEventListener("load",function(){setTimeout(function(){Straps.__load()},1)},!1)}();var __straps_instance_form=function(){function a(a){this.parent=a,this.__construct()}return a.prototype={strapsform:!1,__construct:function(){},attach:function(a){var b=this;this.target=a,this.parent.cycleAttributes(a,{autosize:["true",function(){b.__autosize()}]}),this.target.addEventListener("submit",function(a){b.__submithandler()||a.preventDefault()})},__submithandler:function(){var a=this,b=0;return this.parent.find("input:not([type=submit]),select,textarea",this.target,function(c){var d=c.value;a.parent.cycleAttributes(c,{required:function(e){a.__filterstring(d,e)||(a.parent.classnames(c,"straps-violation"),b++)}})}),alert(b),!1},__filterstring:function(a,b){var c=!1;switch(!0){case/email/gi.test(b):c=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(a);break;case/zip/gi.test(b):c=/(^\d{5}$)|(^\d{5}-\d{4}$)/.test(a);break;case/true|notempty/gi.test(b):c=a||0===a}return c},__autosize:function(){var a=this,b={width:this.target.clientWidth,ratioLabel:.1*this.parent.attribute(this.target,"ratio-label",3),ratioInput:.1*this.parent.attribute(this.target,"ratio-input",6)};this.parent.find("field",this.target,function(c){var d=a.parent.find("label",c,0),e=a.parent.find("input:not([type=submit]),select",c),f=b.width*b.ratioLabel,g=Math.round((b.width*b.ratioInput-3*(e.length-1))/e.length);d&&(d.style.width=f+"px"),e.cycle(function(a,b){b.style.width=g+"px"})})}},a}();Straps.register("form",{invoke:function(a){return new __straps_instance_form(a)}});var __straps_instance_theme=function(){function a(a){this.parent=a,this.__construct()}return a.prototype={__construct:function(){},attach:function(){}},a}();Straps.register("theme",{hooks:["theme"],invoke:function(a){return new __straps_instance_theme(a)}});